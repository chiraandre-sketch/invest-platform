<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DELL INVEST - Accueil</title>
    <style>
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: #f4f7fe; padding-bottom: 80px; }
        .header { background: #1a237e; color: white; padding: 25px; border-bottom-left-radius: 30px; border-bottom-right-radius: 30px; text-align: center; }
        .balance-card { background: white; margin: -30px 20px 20px 20px; padding: 20px; border-radius: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); text-align: center; }
        .balance-amount { font-size: 2rem; font-weight: bold; color: #1a237e; margin: 10px 0; }
        
        .actions { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 0 20px; margin-top: 20px; }
        .btn-action { background: white; padding: 15px 5px; border-radius: 15px; text-align: center; text-decoration: none; color: #333; font-size: 0.8rem; font-weight: 600; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }

        .invite-section { background: #1e293b; color: white; margin: 20px; padding: 20px; border-radius: 20px; }
        .copy-btn { background: #ffeb3b; color: #1a237e; border: none; padding: 10px 20px; border-radius: 10px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 15px; }

        .nav-bar { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #eee; }
        .nav-link { text-decoration: none; color: #999; font-size: 0.7rem; text-align: center; }
        .active { color: #1a237e; font-weight: bold; }
    </style>
</head>
<body>

    <div class="header">
        <h2 style="margin: 0;">DELL INVEST</h2>
        <p style="font-size: 0.8rem; opacity: 0.8;">Investissez dans l'avenir</p>
    </div>

    <div class="balance-card">
        <div style="font-size: 0.8rem; color: #666;">Solde Total</div>
        <div class="balance-amount" id="solde-display">0 CDF</div>
        <div style="font-size: 0.7rem; color: #4caf50;">‚óè Compte Actif</div>
    </div>

    <div class="actions">
        <a href="recharge.html" class="btn-action">‚ûï<br>D√©p√¥t</a>
        <a href="withdraw.html" class="btn-action">üí∏<br>Retrait</a>
        <a href="vip.html" class="btn-action">üíé<br>VIP</a>
    </div>

    <div class="invite-section">
        <div style="font-size: 0.7rem; color: #94a3b8; margin-bottom: 10px;">VOTRE CODE D'INVITATION</div>
        <div id="code-display" style="font-size: 1.5rem; font-weight: bold; letter-spacing: 2px;">----</div>
        <button class="copy-btn" onclick="copierMonLien()">COPIER MON LIEN</button>
    </div>

    <nav class="nav-bar">
        <a href="dashboard.html" class="nav-link active">üè†<br>Accueil</a>
        <a href="vip.html" class="nav-link">üíé<br>Investir</a>
        <a href="equipe.html" class="nav-link">üë•<br>√âquipe</a>
        <a href="profil.html" class="nav-link">üë§<br>Profil</a>
    </nav>

    <script src="app.js"></script>
    <script>
        function updateUI() {
            const user = getUser();
            if (!user) {
                window.location.href = "login.html"; // Rediriger si non connect√©
                return;
            }

            // Afficher les donn√©es
            document.getElementById("solde-display").innerText = (user.solde || 0) + " CDF";
            document.getElementById("code-display").innerText = user.myInviteCode;
        }

        function copierMonLien() {
            const user = getUser();
            const baseUrl = window.location.origin + window.location.pathname.replace("dashboard.html", "register.html");
            const fullLink = baseUrl + "?inviteCode=" + user.myInviteCode;

            navigator.clipboard.writeText(fullLink).then(() => {
                alert("Lien d'invitation copi√© !");
            }).catch(err => {
                // Fallback pour anciens navigateurs
                const tmp = document.createElement("input");
                document.body.appendChild(tmp);
                tmp.value = fullLink;
                tmp.select();
                document.execCommand("copy");
                document.body.removeChild(tmp);
                alert("Lien copi√© !");
            });
        }

        window.onload = updateUI;
    </script>
</body>
</html>
